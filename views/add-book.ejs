<%- include('partials/header') %>

<main class="container">
  <div class="form-container">
    <h1>Add New Book</h1>
    
    <% if (locals.error) { %>
      <div class="error-message">
        <%= error %>
      </div>
    <% } %>
    
    <form action="/books/add" method="POST" class="book-form">
      <div class="form-group">
        <label for="title">Book Title *</label>
        <input type="text" id="title" name="title" value="<%= locals.book && book.title || '' %>" required>
      </div>
      
      <div class="form-group">
        <label for="author">Author *</label>
        <input type="text" id="author" name="author" value="<%= locals.book && book.author || '' %>" required>
      </div>
      
      <div class="form-group">
        <label for="isbn">ISBN (for cover image)</label>
        <input type="text" id="isbn" name="isbn" value="<%= locals.book && book.isbn || '' %>" placeholder="e.g., 9781234567890">
        <p class="helper-text">Enter ISBN to automatically fetch book cover</p>
      </div>
      
      <div class="form-group">
        <label for="rating">Rating (1-10) *</label>
        <input type="number" id="rating" name="rating" min="1" max="10" value="<%= locals.book && book.rating || '8' %>" required>
      </div>
      
      <div class="form-group">
        <label for="date_read">Date Read *</label>
        <input type="date" id="date_read" name="date_read" value="<%= locals.book && book.date_read || new Date().toISOString().split('T')[0] %>" required>
      </div>
      
      <div class="form-group">
        <label for="notes">Notes *</label>
        <textarea id="notes" name="notes" rows="10" required><%= locals.book && book.notes || '' %></textarea>
      </div>
      
      <div class="form-actions">
        <a href="/" class="btn btn-cancel">Cancel</a>
        <button type="submit" class="btn btn-submit">Add Book</button>
      </div>
    </form>
  </div>
</main>

<%- include('partials/footer') %>